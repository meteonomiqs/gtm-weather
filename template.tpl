___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "meteonomiqs - weather tag",
  "brand": {
    "id": "brand_dummy",
    "displayName": "meteonomiqs",
    "thumbnail": "data:image/jpeg;base64,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"
  },
  "description": "This tags send weather data to Google Analytics (Universal Analytics)",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "apikey",
    "displayName": "API KEY",
    "simpleValueType": true
  },
  {
    "type": "GROUP",
    "name": "group1",
    "displayName": "Custom Dimensions",
    "subParams": [
      {
        "type": "LABEL",
        "name": "label2",
        "displayName": "Please define the custom dimension index for the weather information. If the same custom dimension index will be used to an index, the data will appear sparated by \"|\". Set the custom dimension scope in the Universal Analytics property to \"User\"."
      },
      {
        "type": "TEXT",
        "name": "status",
        "displayName": "Detailed Weather Status",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "statusgrouped",
        "displayName": "Grouped Weather Status",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "temperature",
        "displayName": "Temperature Maximum",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "temperaturemin",
        "displayName": "Temperature Minimum",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "precipitation",
        "displayName": "Precipitation",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "windchill",
        "displayName": "Windchill",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "sunhourse",
        "displayName": "Sunhourse",
        "simpleValueType": true
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "consent",
    "displayName": "Consent Status",
    "macrosInSelect": true,
    "selectItems": [],
    "simpleValueType": true,
    "help": "Add Variable for consent status. Needs to be true to see data in Google Analytics."
  },
  {
    "type": "CHECKBOX",
    "name": "pushtodl",
    "checkboxText": "Push execution status of text to dataLayer",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "CookieName",
    "displayName": "Cookie Name Meteonomiqs",
    "simpleValueType": true,
    "help": "This Cookie will be used, to refresh weather data every 30 minutes",
    "defaultValue": "_sessmetonmq"
  },
  {
    "type": "TEXT",
    "name": "CookieNameGA",
    "displayName": "Cookie Name Gogole Analytics",
    "simpleValueType": true,
    "help": "Cookie Name used by GA (default _ga)",
    "defaultValue": "_ga"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const encodeUri = require('encodeUri');
const encodeUriComponent = require('encodeUriComponent');
const getCookieValues = require('getCookieValues');
const setCookie = require('setCookie');
const injectScript = require('injectScript');
const callInWindow = require('callInWindow');
const createQueue = require('createQueue');


const logToConsole = require('logToConsole');
const endpoint="https://wdx-gtm.meteonomiqs.com/prod/gtm/ip2weather";
const dataLayerPush = createQueue('dataLayer');

let script="https://resources.meteonomiqs.com/wdx/gtm-weather/javascript/meteonomiqs_gtm.js";

if (data.consent!=true)
{
  const obj = {mtqfired:'consent_not_given'};
  if (data.pushtodl) {dataLayerPush(obj);}
  data.gtmOnSuccess();
}
else
{

let cookie = getCookieValues(data.CookieName);
let cookiega = getCookieValues(data.CookieNameGA);
  
  
if (cookie!="true")
{ 
  
  if (cookiega[0]===undefined)
  {   
    const obj = {mtqfired:'no'};
    if (data.pushtodl) {dataLayerPush(obj);}
    data.gtmOnSuccess();
  }
  else
  {
  const options = {'domain': 'auto','path': '/','max-age': 60*30,'secure': true};
  setCookie(data.CookieName,"true", options);
  
  if (data.temperature == undefined){data.temperature="0";}
  if (data.temperaturemin == undefined){data.temperaturemin="0";}

  if (data.status == undefined){data.status="0";}
  if (data.statusgrouped == undefined){data.statusgrouped="0";}

  if (data.precipitation == undefined){data.precipitation="0";}
  if (data.windchill == undefined){data.windchill="0";}
  if (data.sunhours == undefined){data.sunhours="0";}

  if (cookiega == undefined){cookiega="0";}
  
  let url = encodeUri(endpoint)+"?sd="+encodeUri(data.status)+"&sg="+encodeUri(data.statusgrouped)+"&tmax="+encodeUri(data.temperature)+"&tmin="+encodeUri(data.temperaturemin)+"&psum="+encodeUri(data.precipitation)+"&wmax="+encodeUri(data.windchill)+"&sunh="+encodeUri(data.sunhours)+"&c="+encodeUri(cookiega.toString());

  injectScript(script, function(){callInWindow('sendData', url, data.apikey);}, data.gtmOnFailure);
  
  const obj = {mtqfired:'yes'};
  if (data.pushtodl) {dataLayerPush(obj);}
  }
}
}
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "sendData"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://resources.meteonomiqs.com/wdx/gtm-weather/javascript/meteonomiqs_gtm.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 28.5.2021, 14:04:26


